db_gino.py:41 #INFO     [2025-11-04 12:43:49,236] - tg_bot.db_models.db_gino - 0| Connecting to PostgreSQL...
base.py:1234 #INFO     [2025-11-04 12:43:49,917] - gino.engine._SAEngine - 0| select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where pg_catalog.pg_table_is_visible(c.oid) and relname=$1
base.py:1236 #INFO     [2025-11-04 12:43:49,917] - gino.engine._SAEngine - 0| ('amurbooking_bot_messages',)
result.py:809 #DEBUG    [2025-11-04 12:43:49,922] - gino.engine._SAEngine - 0| Col ('relname',)
result.py:1260 #DEBUG    [2025-11-04 12:43:49,922] - gino.engine._SAEngine - 0| Row ('amurbooking_bot_messages',)
base.py:1234 #INFO     [2025-11-04 12:43:49,923] - gino.engine._SAEngine - 0| select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where pg_catalog.pg_table_is_visible(c.oid) and relname=$1
base.py:1236 #INFO     [2025-11-04 12:43:49,923] - gino.engine._SAEngine - 0| ('amurbooking_bot_accounts',)
result.py:809 #DEBUG    [2025-11-04 12:43:49,924] - gino.engine._SAEngine - 0| Col ('relname',)
result.py:1260 #DEBUG    [2025-11-04 12:43:49,924] - gino.engine._SAEngine - 0| Row ('amurbooking_bot_accounts',)
base.py:1234 #INFO     [2025-11-04 12:43:49,924] - gino.engine._SAEngine - 0| 
DROP TABLE amurbooking_bot_accounts
base.py:1236 #INFO     [2025-11-04 12:43:49,924] - gino.engine._SAEngine - 0| ()
base.py:769 #INFO     [2025-11-04 12:43:49,924] - gino.engine._SAEngine - 0| COMMIT
result.py:809 #DEBUG    [2025-11-04 12:43:49,937] - gino.engine._SAEngine - 0| Col ()
base.py:1234 #INFO     [2025-11-04 12:43:49,938] - gino.engine._SAEngine - 0| 
DROP TABLE amurbooking_bot_messages
base.py:1236 #INFO     [2025-11-04 12:43:49,938] - gino.engine._SAEngine - 0| ()
base.py:769 #INFO     [2025-11-04 12:43:49,938] - gino.engine._SAEngine - 0| COMMIT
result.py:809 #DEBUG    [2025-11-04 12:43:49,941] - gino.engine._SAEngine - 0| Col ()
base.py:1234 #INFO     [2025-11-04 12:43:49,942] - gino.engine._SAEngine - 0| select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where pg_catalog.pg_table_is_visible(c.oid) and relname=$1
base.py:1236 #INFO     [2025-11-04 12:43:49,942] - gino.engine._SAEngine - 0| ('amurbooking_bot_messages',)
result.py:809 #DEBUG    [2025-11-04 12:43:49,943] - gino.engine._SAEngine - 0| Col ('relname',)
base.py:1234 #INFO     [2025-11-04 12:43:49,943] - gino.engine._SAEngine - 0| select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where pg_catalog.pg_table_is_visible(c.oid) and relname=$1
base.py:1236 #INFO     [2025-11-04 12:43:49,943] - gino.engine._SAEngine - 0| ('amurbooking_bot_accounts',)
result.py:809 #DEBUG    [2025-11-04 12:43:49,944] - gino.engine._SAEngine - 0| Col ('relname',)
base.py:1234 #INFO     [2025-11-04 12:43:49,944] - gino.engine._SAEngine - 0| 
CREATE TABLE amurbooking_bot_messages (
	id BIGSERIAL NOT NULL, 
	tg_user_id BIGINT NOT NULL, 
	telegram_id BIGINT NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id)
)


base.py:1236 #INFO     [2025-11-04 12:43:49,945] - gino.engine._SAEngine - 0| ()
base.py:769 #INFO     [2025-11-04 12:43:49,945] - gino.engine._SAEngine - 0| COMMIT
result.py:809 #DEBUG    [2025-11-04 12:43:49,954] - gino.engine._SAEngine - 0| Col ()
base.py:1234 #INFO     [2025-11-04 12:43:49,954] - gino.engine._SAEngine - 0| 
CREATE TABLE amurbooking_bot_accounts (
	id SERIAL NOT NULL, 
	phone VARCHAR NOT NULL, 
	password VARCHAR, 
	proxy VARCHAR, 
	auth_token VARCHAR, 
	is_work BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id, phone)
)


base.py:1236 #INFO     [2025-11-04 12:43:49,955] - gino.engine._SAEngine - 0| ()
base.py:769 #INFO     [2025-11-04 12:43:49,955] - gino.engine._SAEngine - 0| COMMIT
result.py:809 #DEBUG    [2025-11-04 12:43:49,963] - gino.engine._SAEngine - 0| Col ()
main.py:29 #INFO     [2025-11-04 12:43:49,964] - root - 0| Подгрузил proxies.txt! Количество прокси: 1
dispatcher.py:566 #INFO     [2025-11-04 12:43:50,086] - aiogram.dispatcher - 0| Start polling
dispatcher.py:363 #INFO     [2025-11-04 12:43:50,126] - aiogram.dispatcher - 0| Run polling for bot @amurbooking_test_bot id=8065319444 - 'amurbooking-bot'
start.py:16 #INFO     [2025-11-04 12:44:00,113] - root - 0| Handler called. cmd_start. user_id=1643710214
dispatcher.py:172 #INFO     [2025-11-04 12:44:00,289] - aiogram.event - 0| Update id=465957055 is handled. Duration 171 ms by bot id=8065319444
accounts.py:18 #INFO     [2025-11-04 12:44:01,293] - root - 0| Handler called. show_accounts_list. user_id=1643710214
base.py:1234 #INFO     [2025-11-04 12:44:01,293] - gino.engine._SAEngine - 0| SELECT amurbooking_bot_accounts.id, amurbooking_bot_accounts.phone, amurbooking_bot_accounts.password, amurbooking_bot_accounts.proxy, amurbooking_bot_accounts.auth_token, amurbooking_bot_accounts.is_work, amurbooking_bot_accounts.created_at, amurbooking_bot_accounts.updated_at 
FROM amurbooking_bot_accounts
base.py:1236 #INFO     [2025-11-04 12:44:01,294] - gino.engine._SAEngine - 0| ()
result.py:809 #DEBUG    [2025-11-04 12:44:01,295] - gino.engine._SAEngine - 0| Col ('id', 'phone', 'password', 'proxy', 'auth_token', 'is_work', 'created_at', 'updated_at')
dispatcher.py:172 #INFO     [2025-11-04 12:44:01,295] - aiogram.event - 0| Update id=465957056 is not handled. Duration 15 ms by bot id=8065319444
dispatcher.py:315 #ERROR    [2025-11-04 12:44:01,295] - aiogram.event - 0| Cause exception while process update id=465957056 by bot id=8065319444
ValidationError: 2 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=[InlineKeyboardButton(tex...ck_game=None, pay=None)], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=[InlineKeyboardButton(tex...ck_game=None, pay=None)], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\tg_bot\handlers\accounts.py", line 28, in show_accounts_list
    user_id=uid, text="\n".join(text), markup=await Im.markup_from_buttons([
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\tg_bot\keyboards\inline.py", line 15, in markup_from_buttons
    return InlineKeyboardMarkup(inline_keyboard=[buttons])
  File "C:\Users\Valentyn\PycharmProjects\amurbooking-bot\.venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=[InlineKeyboardButton(tex...ck_game=None, pay=None)], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=[InlineKeyboardButton(tex...ck_game=None, pay=None)], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
dispatcher.py:594 #INFO     [2025-11-04 12:44:28,937] - aiogram.dispatcher - 0| Polling stopped
dispatcher.py:395 #INFO     [2025-11-04 12:44:28,938] - aiogram.dispatcher - 0| Polling stopped for bot @amurbooking_test_bot id=8065319444 - 'amurbooking-bot'
